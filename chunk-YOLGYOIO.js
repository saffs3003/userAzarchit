import{a as J,b as Q,c as X,d as Y,e as Z,f as $,g as ee,h as te,i as ne,j as ie,k as v}from"./chunk-2IE4676R.js";import{a as re}from"./chunk-N2MLWO35.js";import{Aa as _,B as u,Ba as D,C as W,Ea as A,F as G,G as w,H as S,K as U,N as E,Na as B,O as o,Oa as O,P as d,Pa as q,Ra as L,U as h,Xa as C,Y as p,Za as H,da as i,ea as r,fa as I,ga as y,ia as c,ja as g,ma as P,ra as K,sa as s,ta as f,ua as T,wa as z,x as j,xa as M,ya as F}from"./chunk-HH2WM6OM.js";function le(a,n){if(a&1){let e=y();i(0,"tr",8),c("click",function(){let m=w(e).$implicit,l=g();return S(l.userDetails(m.id))}),i(1,"td"),s(2),r(),i(3,"td"),s(4),r(),i(5,"td",9),s(6),r(),i(7,"td",10)(8,"a",11),s(9),r()()()}if(a&2){let e=n.$implicit;o(2),f(e==null?null:e.name),o(2),f(e==null?null:e.username),o(2),f(e==null?null:e.email),o(2),P("href",e==null?null:e.website,E),o(),T(" ",e==null||e.company==null?null:e.company.name," ")}}var b=class a{constructor(n){this.router=n}users;page=1;pageSize=3;totalUsers=0;pageChange=new U;userDetails(n){this.router.navigate(["/detail",n])}static \u0275fac=function(e){return new(e||a)(d(C))};static \u0275cmp=u({type:a,selectors:[["app-user-table"]],inputs:{users:"users",page:"page",pageSize:"pageSize",totalUsers:"totalUsers"},outputs:{pageChange:"pageChange"},standalone:!0,features:[_],decls:17,vars:4,consts:[[1,"table-container"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],["scope","col"],["scope","col",1,"email"],[3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2","align-self-center"],[3,"pageChange","page","pageSize","collectionSize"],[3,"click"],[1,"email"],[1,"company?"],[3,"href"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),s(6,"Name"),r(),i(7,"th",3),s(8,"Username"),r(),i(9,"th",4),s(10,"Email"),r(),i(11,"th",3),s(12,"Company"),r()()(),i(13,"tbody"),h(14,le,10,5,"tr",5),r()()(),i(15,"div",6)(16,"ngb-pagination",7),F("pageChange",function(l){return M(t.page,l)||(t.page=l),l}),c("pageChange",function(l){return t.pageChange.emit(l)}),r()()()),e&2&&(o(14),p("ngForOf",t.users),o(2),z("page",t.page),p("pageSize",t.pageSize)("collectionSize",t.totalUsers))},dependencies:[O,v],styles:["th[_ngcontent-%COMP%]{background-color:var(--highlightColor)}table[_ngcontent-%COMP%]{overflow-x:auto;td{font-size:clamp(8px,1rem,2.5rem)}tr{&:hover{cursor:pointer}}}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (max-width: 600px){.email[_ngcontent-%COMP%]{display:none}}"]})};var R=class a{constructor(n){this.router=n}user;userDetails(n){this.router.navigate(["/detail",n])}static \u0275fac=function(e){return new(e||a)(d(C))};static \u0275cmp=u({type:a,selectors:[["app-card"]],inputs:{user:"user"},standalone:!0,features:[_],decls:10,vars:5,consts:[[1,"card",3,"click"],[3,"href"]],template:function(e,t){e&1&&(i(0,"div",0),c("click",function(){let l;return t.userDetails((l=t.user==null?null:t.user.id)!==null&&l!==void 0?l:0)}),i(1,"p"),s(2),r(),i(3,"p"),s(4),r(),i(5,"p"),s(6),r(),i(7,"p")(8,"a",1),s(9),r()()()),e&2&&(o(2),f(t.user==null?null:t.user.name),o(2),f(t.user==null?null:t.user.username),o(2),f(t.user==null?null:t.user.email),o(2),P("href",t.user==null?null:t.user.website,E),o(),T(" ",t.user==null||t.user.company==null?null:t.user.company.name," "))},styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--highlightColor);border-radius:20px;padding:20px;min-width:200px;&:hover{cursor:pointer;background-color:var(--hover-color);color:#f0f8ff}}@media screen and (max-width: 800){.card-list[_ngcontent-%COMP%]{width:100%}}"]})};function me(a,n){if(a&1&&(i(0,"div"),I(1,"app-card",4),r()),a&2){let e=n.$implicit;o(),p("user",e)}}var x=class a{constructor(n){this.router=n}users=[];page=1;pageSize=3;totalUsers=0;pageChange=new U;viewUserDetail(n){this.router.navigate(["/detail",n])}static \u0275fac=function(e){return new(e||a)(d(C))};static \u0275cmp=u({type:a,selectors:[["app-user-list"]],inputs:{users:"users",page:"page",pageSize:"pageSize",totalUsers:"totalUsers"},outputs:{pageChange:"pageChange"},standalone:!0,features:[_],decls:5,vars:4,consts:[[1,"card-list"],[4,"ngFor","ngForOf"],[1,"d-flex","p-2","justify-self-center","align-self-center"],[3,"pageChange","page","pageSize","collectionSize"],[3,"user"]],template:function(e,t){e&1&&(i(0,"main")(1,"div",0),h(2,me,2,1,"div",1),r(),i(3,"div",2)(4,"ngb-pagination",3),F("pageChange",function(l){return M(t.page,l)||(t.page=l),l}),c("pageChange",function(l){return t.pageChange.emit(l)}),r()()()),e&2&&(o(2),p("ngForOf",t.users),o(2),z("page",t.page),p("pageSize",t.pageSize)("collectionSize",t.totalUsers))},dependencies:[R,O,L,v],styles:[".card-list[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;align-items:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;align-items:center}@media screen and (max-width: 800){.card-list[_ngcontent-%COMP%]{width:100%;flex-direction:column}}"]})};var oe=a=>({active:a});function ue(a,n){a&1&&(i(0,"div",8)(1,"p"),s(2,"Loading user details..."),r(),I(3,"div",9),r())}function de(a,n){if(a&1){let e=y();i(0,"div")(1,"h2"),s(2,"Table View"),r(),i(3,"app-user-table",12),c("pageChange",function(m){w(e);let l=g(2);return S(l.onPageChange(m))}),r()()}if(a&2){let e,t=g(2);o(3),p("users",t.paginatedUsers)("page",t.page)("pageSize",t.pageSize)("totalUsers",(e=t.users==null?null:t.users.length)!==null&&e!==void 0?e:0)}}function ge(a,n){if(a&1){let e=y();i(0,"div")(1,"h2"),s(2,"Card View"),r(),i(3,"app-user-list",12),c("pageChange",function(m){w(e);let l=g(2);return S(l.onPageChange(m))}),r()()}if(a&2){let e,t=g(2);o(3),p("users",t.paginatedUsers)("page",t.page)("pageSize",t.pageSize)("totalUsers",(e=t.users==null?null:t.users.length)!==null&&e!==void 0?e:0)}}function fe(a,n){if(a&1&&(i(0,"div",10),h(1,de,4,4,"div",11)(2,ge,4,4,"ng-template",null,0,A),r()),a&2){let e=K(3),t=g();o(),p("ngIf",t.view==="table")("ngIfElse",e)}}var V=class a{constructor(n){this.userService=n}users;searchForm=new Y({searchKey:new Z("")});page=1;pageSize=5;paginatedUsers;searchResultList;view="table";isLoading=!1;ngOnInit(){let n=localStorage.getItem("userViewPreference");(n==="table"||n==="card")&&(this.view=n),this.isLoading=!0,this.userService.fetchUsers().subscribe(e=>{this.users=e,this.searchResultList=this.users,this.setCurrentPage(),this.isLoading=!1})}ngOnChanges(){this.setCurrentPage()}setCurrentPage(){let n=(this.page-1)*this.pageSize,e=n+this.pageSize;this.paginatedUsers=this.searchResultList?.slice(n,e)}onPageChange(n){this.page=n,this.setCurrentPage()}changeView(n){this.view=n,localStorage.setItem("userViewPreference",n)}searchResult(){let n=this.searchForm.value.searchKey?.trim().toLowerCase();if(!n){this.searchResultList=this.users;return}this.searchResultList=this.users?.filter(e=>e.name.toLowerCase().includes(n)||e.email.toLowerCase().includes(n)),this.page=1,this.setCurrentPage(),console.log(this.searchResultList,"sesadadadsarchlist")}static \u0275fac=function(e){return new(e||a)(d(re))};static \u0275cmp=u({type:a,selectors:[["app-user"]],features:[G],decls:15,vars:9,consts:[["cardView",""],[1,"title-bar"],[1,"switch"],[3,"click","ngClass"],[3,"submit","formGroup"],["id","name","type","text","formControlName","searchKey","placeholder","Filter by name or email",3,"input"],["class","loading-container",4,"ngIf"],["class","user-container",4,"ngIf"],[1,"loading-container"],[1,"loader"],[1,"user-container"],[4,"ngIf","ngIfElse"],[3,"pageChange","users","page","pageSize","totalUsers"]],template:function(e,t){e&1&&(i(0,"main")(1,"h1"),s(2,"Dashboard"),r(),i(3,"div",1)(4,"div",2)(5,"button",3),c("click",function(){return t.changeView("table")}),s(6," Table View "),r(),i(7,"button",3),c("click",function(){return t.changeView("card")}),s(8," Card View "),r()(),i(9,"form",4),c("submit",function(){return t.searchResult()}),i(10,"input",5),c("input",function(){return t.searchResult()}),r(),i(11,"button"),s(12,"Search"),r()()(),h(13,ue,4,0,"div",6)(14,fe,4,2,"div",7),r()),e&2&&(o(5),p("ngClass",D(5,oe,t.view=="table")),o(2),p("ngClass",D(7,oe,t.view=="card")),o(2),p("formGroup",t.searchForm),o(4),p("ngIf",t.isLoading),o(),p("ngIf",!t.isLoading))},dependencies:[B,q,b,x,$,J,Q,X,ee,te],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;max-width:1400px;margin:0 auto;.title-bar{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:20px;padding:20px;border-radius:16px}form{width:50%;display:flex;align-items:center;height:48px;gap:0;input{width:100%;height:100%;padding:12px 16px;border:1.5px solid #e2e8f0;border-radius:12px 0 0 12px;font-size:.95rem;transition:all .2s ease;outline:none;&:focus{border-color:var(--hover-color);box-shadow:0 0 0 3px #4299e11a}&::placeholder{color:#a0aec0}}button{height:100%;padding:0 24px;background:var(--hover-color);color:#f0f8ff;border:none;border-radius:0 12px 12px 0;font-weight:500;cursor:pointer;transition:all .2s ease;white-space:nowrap;&:hover{transform:scale(.98);background:var(--highlight-color);color:#000}}}}.switch[_ngcontent-%COMP%]{display:flex;gap:8px;padding:6px;border-radius:14px;button{border:none;padding:10px 20px;border-radius:10px;font-weight:500;font-size:.95rem;cursor:pointer;transition:all .2s ease;background:transparent;color:#4a5568;position:relative;&.active{background:var(--hover-color);color:#fff;box-shadow:0 2px 8px #4299e14d;border-bottom:none}}}.user-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;min-height:400px}@media screen and (max-width: 800px){main[_ngcontent-%COMP%]{padding:16px;gap:16px;h1{font-size:1.5rem}.title-bar{flex-direction:column;gap:16px;padding:16px}form{width:100%}}.switch[_ngcontent-%COMP%]{width:100%;button{flex:1;padding:10px 12px;font-size:.9rem}}.user-container[_ngcontent-%COMP%]{padding:16px}}"]})};var he=[{path:"",component:V}],se=class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=W({type:a});static \u0275inj=j({imports:[L,H.forChild(he),b,x,v,ie,ne]})};export{se as UserModule};

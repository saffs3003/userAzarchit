import{a as J,b as Q,c as X,d as Y,e as Z,f as $,g as ee,h as te,i as ne,j as ie,k as v}from"./chunk-2IE4676R.js";import{a as re}from"./chunk-N2MLWO35.js";import{Aa as h,B as c,C as W,Ca as D,Ea as A,F as G,G as y,H as w,K as x,N as E,Na as B,O as o,Oa as L,P as d,Pa as q,Ra as N,U as _,Xa as C,Y as p,Za as H,da as i,ea as r,fa as I,ga as U,ia as u,ja as g,ma as T,ra as K,sa as s,ta as f,ua as F,wa as P,x as j,xa as z,ya as M}from"./chunk-HH2WM6OM.js";function le(a,n){if(a&1){let t=U();i(0,"tr",8),u("click",function(){let m=y(t).$implicit,l=g();return w(l.userDetails(m.id))}),i(1,"td"),s(2),r(),i(3,"td"),s(4),r(),i(5,"td",9),s(6),r(),i(7,"td",10)(8,"a",11),s(9),r()()()}if(a&2){let t=n.$implicit;o(2),f(t==null?null:t.name),o(2),f(t==null?null:t.username),o(2),f(t==null?null:t.email),o(2),T("href",t==null?null:t.website,E),o(),F(" ",t==null||t.company==null?null:t.company.name," ")}}var b=class a{constructor(n){this.router=n}users;page=1;pageSize=3;totalUsers=0;pageChange=new x;userDetails(n){this.router.navigate(["/detail",n])}static \u0275fac=function(t){return new(t||a)(d(C))};static \u0275cmp=c({type:a,selectors:[["app-user-table"]],inputs:{users:"users",page:"page",pageSize:"pageSize",totalUsers:"totalUsers"},outputs:{pageChange:"pageChange"},standalone:!0,features:[h],decls:17,vars:4,consts:[[1,"table-container"],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],["scope","col"],["scope","col",1,"email"],[3,"click",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","p-2","align-self-center"],[3,"pageChange","page","pageSize","collectionSize"],[3,"click"],[1,"email"],[1,"company?"],[3,"href"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),s(6,"Name"),r(),i(7,"th",3),s(8,"Username"),r(),i(9,"th",4),s(10,"Email"),r(),i(11,"th",3),s(12,"Company"),r()()(),i(13,"tbody"),_(14,le,10,5,"tr",5),r()()(),i(15,"div",6)(16,"ngb-pagination",7),M("pageChange",function(l){return z(e.page,l)||(e.page=l),l}),u("pageChange",function(l){return e.pageChange.emit(l)}),r()()()),t&2&&(o(14),p("ngForOf",e.users),o(2),P("page",e.page),p("pageSize",e.pageSize)("collectionSize",e.totalUsers))},dependencies:[L,v],styles:["th[_ngcontent-%COMP%]{background-color:var(--highlightColor)}table[_ngcontent-%COMP%]{overflow-x:auto;td{font-size:clamp(8px,1rem,2.5rem)}tr{&:hover{cursor:pointer}}}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media screen and (max-width: 600px){.email[_ngcontent-%COMP%]{display:none}}"]})};var O=class a{constructor(n){this.router=n}user;userDetails(n){this.router.navigate(["/detail",n])}static \u0275fac=function(t){return new(t||a)(d(C))};static \u0275cmp=c({type:a,selectors:[["app-card"]],inputs:{user:"user"},standalone:!0,features:[h],decls:10,vars:5,consts:[[1,"card",3,"click"],[3,"href"]],template:function(t,e){t&1&&(i(0,"div",0),u("click",function(){let l;return e.userDetails((l=e.user==null?null:e.user.id)!==null&&l!==void 0?l:0)}),i(1,"p"),s(2),r(),i(3,"p"),s(4),r(),i(5,"p"),s(6),r(),i(7,"p")(8,"a",1),s(9),r()()()),t&2&&(o(2),f(e.user==null?null:e.user.name),o(2),f(e.user==null?null:e.user.username),o(2),f(e.user==null?null:e.user.email),o(2),T("href",e.user==null?null:e.user.website,E),o(),F(" ",e.user==null||e.user.company==null?null:e.user.company.name," "))},styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:var(--highlightColor);border-radius:20px;padding:20px;min-width:200px;&:hover{cursor:pointer;background-color:var(--hover-color);color:#f0f8ff}}"]})};function me(a,n){if(a&1&&(i(0,"div"),I(1,"app-card",4),r()),a&2){let t=n.$implicit;o(),p("user",t)}}var S=class a{constructor(n){this.router=n}users=[];page=1;pageSize=3;totalUsers=0;pageChange=new x;viewUserDetail(n){this.router.navigate(["/detail",n])}static \u0275fac=function(t){return new(t||a)(d(C))};static \u0275cmp=c({type:a,selectors:[["app-user-list"]],inputs:{users:"users",page:"page",pageSize:"pageSize",totalUsers:"totalUsers"},outputs:{pageChange:"pageChange"},standalone:!0,features:[h],decls:5,vars:4,consts:[[1,"card-list"],[4,"ngFor","ngForOf"],[1,"d-flex","p-2","justify-self-center","align-self-center"],[3,"pageChange","page","pageSize","collectionSize"],[3,"user"]],template:function(t,e){t&1&&(i(0,"main")(1,"div",0),_(2,me,2,1,"div",1),r(),i(3,"div",2)(4,"ngb-pagination",3),M("pageChange",function(l){return z(e.page,l)||(e.page=l),l}),u("pageChange",function(l){return e.pageChange.emit(l)}),r()()()),t&2&&(o(2),p("ngForOf",e.users),o(2),P("page",e.page),p("pageSize",e.pageSize)("collectionSize",e.totalUsers))},dependencies:[O,L,N,v],styles:[".card-list[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap;align-items:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;align-items:center}"]})};var oe=(a,n)=>({active:a,disabled:n});function ce(a,n){a&1&&(i(0,"div",8)(1,"p"),s(2,"Loading user details..."),r(),I(3,"div",9),r())}function de(a,n){if(a&1){let t=U();i(0,"div")(1,"h2"),s(2,"Table View"),r(),i(3,"app-user-table",12),u("pageChange",function(m){y(t);let l=g(2);return w(l.onPageChange(m))}),r()()}if(a&2){let t,e=g(2);o(3),p("users",e.paginatedUsers)("page",e.page)("pageSize",e.pageSize)("totalUsers",(t=e.users==null?null:e.users.length)!==null&&t!==void 0?t:0)}}function ge(a,n){if(a&1){let t=U();i(0,"div")(1,"h2"),s(2,"Card View"),r(),i(3,"app-user-list",12),u("pageChange",function(m){y(t);let l=g(2);return w(l.onPageChange(m))}),r()()}if(a&2){let t,e=g(2);o(3),p("users",e.paginatedUsers)("page",e.page)("pageSize",e.pageSize)("totalUsers",(t=e.users==null?null:e.users.length)!==null&&t!==void 0?t:0)}}function fe(a,n){if(a&1&&(i(0,"div",10),_(1,de,4,4,"div",11)(2,ge,4,4,"ng-template",null,0,A),r()),a&2){let t=K(3),e=g();o(),p("ngIf",e.view==="table")("ngIfElse",t)}}var V=class a{constructor(n){this.userService=n}users;searchForm=new Y({searchKey:new Z("")});page=1;pageSize=5;paginatedUsers;searchResultList;view="table";isLoading=!1;ngOnInit(){let n=localStorage.getItem("userViewPreference");(n==="table"||n==="card")&&(this.view=n),this.isLoading=!0,this.userService.fetchUsers().subscribe(t=>{this.users=t,this.searchResultList=this.users,this.setCurrentPage(),this.isLoading=!1})}ngOnChanges(){this.setCurrentPage()}setCurrentPage(){let n=(this.page-1)*this.pageSize,t=n+this.pageSize;this.paginatedUsers=this.searchResultList?.slice(n,t)}onPageChange(n){this.page=n,this.setCurrentPage()}changeView(n){this.view=n,localStorage.setItem("userViewPreference",n)}searchResult(){let n=this.searchForm.value.searchKey?.trim().toLowerCase();if(!n){this.searchResultList=this.users;return}this.searchResultList=this.users?.filter(t=>t.name.toLowerCase().includes(n)||t.email.toLowerCase().includes(n)),this.page=1,this.setCurrentPage(),console.log(this.searchResultList,"sesadadadsarchlist")}static \u0275fac=function(t){return new(t||a)(d(re))};static \u0275cmp=c({type:a,selectors:[["app-user"]],features:[G],decls:15,vars:11,consts:[["cardView",""],[1,"title-bar"],[1,"switch"],[3,"click","ngClass"],[3,"submit","formGroup"],["id","name","type","text","formControlName","searchKey","placeholder","Filter by name or email",3,"input"],["class","loading-container",4,"ngIf"],["class","user-container",4,"ngIf"],[1,"loading-container"],[1,"loader"],[1,"user-container"],[4,"ngIf","ngIfElse"],[3,"pageChange","users","page","pageSize","totalUsers"]],template:function(t,e){t&1&&(i(0,"main")(1,"h1"),s(2,"Dashboard"),r(),i(3,"div",1)(4,"div",2)(5,"button",3),u("click",function(){return e.changeView("table")}),s(6," Table View "),r(),i(7,"button",3),u("click",function(){return e.changeView("card")}),s(8," Card View "),r()(),i(9,"form",4),u("submit",function(){return e.searchResult()}),i(10,"input",5),u("input",function(){return e.searchResult()}),r(),i(11,"button"),s(12,"Search"),r()()(),_(13,ce,4,0,"div",6)(14,fe,4,2,"div",7),r()),t&2&&(o(5),p("ngClass",D(5,oe,e.view=="table",e.view!="table")),o(2),p("ngClass",D(8,oe,e.view=="card",e.view!="card")),o(2),p("formGroup",e.searchForm),o(4),p("ngIf",e.isLoading),o(),p("ngIf",!e.isLoading))},dependencies:[B,q,b,S,$,J,Q,X,ee,te],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;.title-bar{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:0}form{width:50%;display:flex;align-items:center;height:100%;height:50px;justify-content:end;input{width:80%;height:100%;padding:12px;border:1px solid rgba(128,128,128,.461);border-radius:12px 0 0 12px}button{border-radius:0 12px 12px 0}}}.switch[_ngcontent-%COMP%]{display:flex;gap:20px;button{border:none;padding:12px;border-radius:12px;&.active{border-bottom:6px solid black;color:#f0f8ff;background-color:var(--hover-color)}}}@media screen and (max-width: 800px){main[_ngcontent-%COMP%]{.title-bar{flex-direction:column;gap:20px}form{width:100%;input{width:100%}}}}"]})};var _e=[{path:"",component:V}],se=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=W({type:a});static \u0275inj=j({imports:[N,H.forChild(_e),b,S,v,ie,ne]})};export{se as UserModule};
